<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>csp_types.h &mdash; Cubesat Space Protocol</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: rgba(52,49,49,1) 100%;" >

          
          
          <a href="../index.html" class="icon icon-home">
            Lib CSP
          </a>
              <div class="version">
                documentation_build_fail
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">How to install LibCSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build-doc.html">How to build documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CSP API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_h.html">CSP Library Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_types_h.html">CSP Basic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_buffer_h.html">CSP Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_cmp_h.html">CSP Management Protocol (CMP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_sfp_h.html">Small Fragmentation Protocol (SFP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_promisc_h.html">Promiscuous packet queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_interface_h.html">CSP Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_rtable_h.html">Routing table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_iflist_h.html">Interfaces management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_error_h.html">Error Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_debug_h.html">CSP Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_id_h.html">CSP ID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_crc32_h.html">CRC32 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_hooks_h.html">CSP Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/csp_yaml_h.html">YAML Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/drivers/drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/crypto/crypto.html">Crypto</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/interfaces/interfaces.html">Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/arch/arch.html">Architecture dependent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Cubesat Space Protocol</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basic.html">The basics of CSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory.html">How CSP uses memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mtu.html">Maximum Transfer Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../outflow.html">Outgoing Packet Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocolstack.html">The Protocol Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topology.html">Network Topology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tunnel.html">CSP tunnels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hooks.html">Hooks in CSP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to libcsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codestyle.html">Code style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-commit.html">Git Commit Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CI.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../example.html">Client and server example</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: rgba(52,49,49,1) 100%;" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lib CSP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">csp_types.h</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for csp_types.h</h1><div class="highlight"><pre>
<span></span><span class="cm">/****************************************************************************</span>
<span class="cm"> * **File:** csp/csp_types.h</span>
<span class="cm"> *</span>
<span class="cm"> * **Description:** Basic types</span>
<span class="cm"> ****************************************************************************/</span>
<span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;csp/autoconfig.h&quot;</span><span class="c1"> // -&gt; CSP_X defines (compile configuration)</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;csp/csp_error.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;csp/arch/csp_queue.h&gt;</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="cp">#endif</span>

<div class="viewcode-block" id="c.csp_timestamp_t"><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<div class="viewcode-block" id="c.csp_timestamp_t.tv_sec"><span class="w">	</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">tv_sec</span><span class="p">;</span></div>
<div class="viewcode-block" id="c.csp_timestamp_t.tv_nsec"><span class="w">	</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">tv_nsec</span><span class="p">;</span></div>
<span class="p">}</span><span class="w"> </span><span class="n">csp_timestamp_t</span><span class="p">;</span></div>

<div class="viewcode-block" id="c.csp_service_port_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_service_port_t">[docs]</a><span class="cm">/**</span>
<span class="cm"> *  Reserved ports for CSP services.</span>
<span class="cm"> */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_CMP"><span class="w">	</span><span class="n">CSP_CMP</span><span class="w">				</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; CSP management, e.g. memory, routes, stats */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_PING"><span class="w">	</span><span class="n">CSP_PING</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Ping - return ping */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_PS"><span class="w">	</span><span class="n">CSP_PS</span><span class="w">				</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Current process list */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_MEMFREE"><span class="w">	</span><span class="n">CSP_MEMFREE</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Free memory */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_REBOOT"><span class="w">	</span><span class="n">CSP_REBOOT</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Reboot, see #CSP_REBOOT_MAGIC and #CSP_REBOOT_SHUTDOWN_MAGIC */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_BUF_FREE"><span class="w">	</span><span class="n">CSP_BUF_FREE</span><span class="w">		</span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Free CSP buffers */</span></div>
<div class="viewcode-block" id="c.csp_service_port_t.CSP_UPTIME"><span class="w">	</span><span class="n">CSP_UPTIME</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">   </span><span class="cm">/*&lt; Uptime */</span></div>
<span class="p">}</span><span class="w"> </span><span class="n">csp_service_port_t</span><span class="p">;</span></div>

<div class="viewcode-block" id="c.CSP_ANY"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_ANY">[docs]</a><span class="cm">/** Listen on all ports, primarily used with csp_bind() */</span>
<span class="cp">#define CSP_ANY				255</span></div>

<div class="viewcode-block" id="c.csp_prio_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_prio_t">[docs]</a><span class="cm">/**</span>
<span class="cm">   Message priority.</span>
<span class="cm">*/</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<div class="viewcode-block" id="c.csp_prio_t.CSP_PRIO_CRITICAL"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_prio_t.CSP_PRIO_CRITICAL">[docs]</a><span class="w">	</span><span class="n">CSP_PRIO_CRITICAL</span><span class="w">		</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="c1">//!&lt; Critical</span></div>
<div class="viewcode-block" id="c.csp_prio_t.CSP_PRIO_HIGH"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_prio_t.CSP_PRIO_HIGH">[docs]</a><span class="w">	</span><span class="n">CSP_PRIO_HIGH</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="c1">//!&lt; High</span></div>
<div class="viewcode-block" id="c.csp_prio_t.CSP_PRIO_NORM"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_prio_t.CSP_PRIO_NORM">[docs]</a><span class="w">	</span><span class="n">CSP_PRIO_NORM</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="c1">//!&lt; Normal (default)</span></div>
<div class="viewcode-block" id="c.csp_prio_t.CSP_PRIO_LOW"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_prio_t.CSP_PRIO_LOW">[docs]</a><span class="w">	</span><span class="n">CSP_PRIO_LOW</span><span class="w">			</span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="c1">//!&lt; Low</span></div>
<span class="p">}</span><span class="w"> </span><span class="n">csp_prio_t</span><span class="p">;</span></div>

<div class="viewcode-block" id="c.__packed"><div class="viewcode-block" id="c.csp_id_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed">[docs]</a><span class="cm">/**</span>
<span class="cm">   CSP identifier/header.</span>
<span class="cm">*/</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w">  </span><span class="nc">__packed</span><span class="w"> </span><span class="p">{</span>
<div class="viewcode-block" id="c.__packed.pri"><div class="viewcode-block" id="c.csp_id_t.pri"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.pri">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.pri">[docs]</a><span class="w">	</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">pri</span><span class="p">;</span></div></div>
<div class="viewcode-block" id="c.__packed.flags"><div class="viewcode-block" id="c.csp_id_t.flags"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.flags">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.flags">[docs]</a><span class="w">	</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">flags</span><span class="p">;</span></div></div>
<div class="viewcode-block" id="c.__packed.src"><div class="viewcode-block" id="c.csp_id_t.src"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.src">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.src">[docs]</a><span class="w">	</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">src</span><span class="p">;</span></div></div>
<div class="viewcode-block" id="c.__packed.dst"><div class="viewcode-block" id="c.csp_id_t.dst"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.dst">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.dst">[docs]</a><span class="w">	</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">dst</span><span class="p">;</span></div></div>
<div class="viewcode-block" id="c.__packed.dport"><div class="viewcode-block" id="c.csp_id_t.dport"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.dport">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.dport">[docs]</a><span class="w">	</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">dport</span><span class="p">;</span></div></div>
<div class="viewcode-block" id="c.__packed.sport"><div class="viewcode-block" id="c.csp_id_t.sport"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_id_t.sport">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.__packed.sport">[docs]</a><span class="w">	</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sport</span><span class="p">;</span></div></div>
<span class="p">}</span><span class="w"> </span><span class="n">csp_id_t</span><span class="w"> </span><span class="p">;</span></div></div>

<div class="viewcode-block" id="c.CSP_FRES1"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_FRES1">[docs]</a><span class="cm">/**</span>
<span class="cm">   @defgroup CSP_HEADER_FLAGS CSP header flags.</span>
<span class="cm">   @{</span>
<span class="cm">*/</span>
<span class="cp">#define CSP_FRES1			0x80 </span><span class="cm">/*&lt; Reserved for future use */</span></div>
<div class="viewcode-block" id="c.CSP_FRES2"><span class="cp">#define CSP_FRES2			0x40 </span><span class="cm">/*&lt; Reserved for future use */</span></div>
<div class="viewcode-block" id="c.CSP_FRES3"><span class="cp">#define CSP_FRES3			0x20 </span><span class="cm">/*&lt; Reserved for future use */</span></div>
<div class="viewcode-block" id="c.CSP_FFRAG"><span class="cp">#define CSP_FFRAG			0x10 </span><span class="cm">/*&lt; Use fragmentation */</span></div>
<div class="viewcode-block" id="c.CSP_FHMAC"><span class="cp">#define CSP_FHMAC			0x08 </span><span class="cm">/*&lt; Use HMAC verification */</span></div>
<div class="viewcode-block" id="c.CSP_FRDP"><span class="cp">#define CSP_FRDP			0x02 </span><span class="cm">/*&lt; Use RDP protocol */</span></div>
<div class="viewcode-block" id="c.CSP_FCRC32"><span class="cp">#define CSP_FCRC32			0x01 </span><span class="cm">/*&lt; Use CRC32 checksum */</span></div>
<span class="cm">/**@}*/</span>

<div class="viewcode-block" id="c.CSP_SO_NONE"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_SO_NONE">[docs]</a><span class="cm">/**</span>
<span class="cm">   @defgroup CSP_SOCKET_OPTIONS CSP Socket options.</span>
<span class="cm">   @{</span>
<span class="cm">*/</span>
<span class="cp">#define CSP_SO_NONE			0x0000 </span><span class="cm">/*&lt; No socket options */</span></div>
<div class="viewcode-block" id="c.CSP_SO_RDPREQ"><span class="cp">#define CSP_SO_RDPREQ			0x0001 </span><span class="cm">/*&lt; Require RDP */</span></div>
<div class="viewcode-block" id="c.CSP_SO_RDPPROHIB"><span class="cp">#define CSP_SO_RDPPROHIB		0x0002 </span><span class="cm">/*&lt; Prohibit RDP */</span></div>
<div class="viewcode-block" id="c.CSP_SO_HMACREQ"><span class="cp">#define CSP_SO_HMACREQ			0x0004 </span><span class="cm">/*&lt; Require HMAC */</span></div>
<div class="viewcode-block" id="c.CSP_SO_HMACPROHIB"><span class="cp">#define CSP_SO_HMACPROHIB		0x0008 </span><span class="cm">/*&lt; Prohibit HMAC */</span></div>
<div class="viewcode-block" id="c.CSP_SO_CRC32REQ"><span class="cp">#define CSP_SO_CRC32REQ			0x0040 </span><span class="cm">/*&lt; Require CRC32 */</span></div>
<div class="viewcode-block" id="c.CSP_SO_CRC32PROHIB"><span class="cp">#define CSP_SO_CRC32PROHIB		0x0080 </span><span class="cm">/*&lt; Prohibit CRC32 */</span></div>
<div class="viewcode-block" id="c.CSP_SO_CONN_LESS"><span class="cp">#define CSP_SO_CONN_LESS		0x0100 </span><span class="cm">/*&lt; Enable Connection Less mode */</span></div>
<div class="viewcode-block" id="c.CSP_SO_SAME"><span class="cp">#define CSP_SO_SAME			0x8000 </span><span class="cm">/*&lt; Copy opts from incoming packet only apllies to csp_sendto_reply() */</span></div>

<span class="cm">/**@}*/</span>

<div class="viewcode-block" id="c.CSP_O_NONE"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_O_NONE">[docs]</a><span class="cm">/** CSP Connect options */</span>
<span class="cp">#define CSP_O_NONE			CSP_SO_NONE        </span><span class="cm">/*&lt; No connection options */</span></div>
<div class="viewcode-block" id="c.CSP_O_RDP"><span class="cp">#define CSP_O_RDP			CSP_SO_RDPREQ      </span><span class="cm">/*&lt; Enable RDP */</span></div>
<div class="viewcode-block" id="c.CSP_O_NORDP"><span class="cp">#define CSP_O_NORDP			CSP_SO_RDPPROHIB   </span><span class="cm">/*&lt; Disable RDP */</span></div>
<div class="viewcode-block" id="c.CSP_O_HMAC"><span class="cp">#define CSP_O_HMAC			CSP_SO_HMACREQ     </span><span class="cm">/*&lt; Enable HMAC */</span></div>
<div class="viewcode-block" id="c.CSP_O_NOHMAC"><span class="cp">#define CSP_O_NOHMAC			CSP_SO_HMACPROHIB  </span><span class="cm">/*&lt; Disable HMAC */</span></div>
<div class="viewcode-block" id="c.CSP_O_CRC32"><span class="cp">#define CSP_O_CRC32			CSP_SO_CRC32REQ    </span><span class="cm">/*&lt; Enable CRC32 */</span></div>
<div class="viewcode-block" id="c.CSP_O_NOCRC32"><span class="cp">#define CSP_O_NOCRC32			CSP_SO_CRC32PROHIB </span><span class="cm">/*&lt; Disable CRC32 */</span></div>
<div class="viewcode-block" id="c.CSP_O_SAME"><span class="cp">#define CSP_O_SAME			CSP_SO_SAME</span></div>

<span class="cp">#ifndef CSP_PACKET_PADDING_BYTES</span>
<div class="viewcode-block" id="c.CSP_PACKET_PADDING_BYTES"><span class="cp">#define CSP_PACKET_PADDING_BYTES 8</span></div>
<span class="cp">#endif</span>

<span class="cm">/* This struct is referenced in documentation.  Update doc when you change this. */</span>
<div class="viewcode-block" id="c.csp_packet_s"><div class="viewcode-block" id="c.csp_packet_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_t">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_s">[docs]</a><span class="cm">/**</span>
<span class="cm"> * CSP Packet.</span>
<span class="cm"> *</span>
<span class="cm"> * This structure is constructed to fit with all interface and protocols to prevent the</span>
<span class="cm"> * need to copy data (zero copy).</span>
<span class="cm"> *</span>
<span class="cm"> * .. note:: In most cases a CSP packet cannot be reused in case of send failure, because the</span>
<span class="cm"> * 			 lower layers may add additional data causing increased length (e.g. CRC32), convert</span>
<span class="cm"> * 			 the CSP id to different endian (e.g. I2C), etc.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_packet_s</span><span class="w"> </span><span class="p">{</span>

<span class="w">	</span><span class="k">union</span><span class="w"> </span><span class="p">{</span>

<span class="w">		</span><span class="cm">/* Only used on layer 3 (RDP) */</span>
<span class="w">		</span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">			</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">timestamp_tx</span><span class="p">;</span><span class="w">		</span><span class="cm">/*&lt; Time the message was sent */</span>
<span class="w">			</span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_conn_s</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">conn</span><span class="p">;</span><span class="w">   </span><span class="cm">/*&lt; Associated connection (this is used in RDP queue) */</span>
<span class="w">		</span><span class="p">};</span>

<span class="w">		</span><span class="cm">/* Only used on interface RX/TX (layer 2) */</span>
<span class="w">		</span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">			</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">rx_count</span><span class="p">;</span><span class="w">          </span><span class="cm">/*&lt; Received bytes */</span>
<span class="w">			</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">remain</span><span class="p">;</span><span class="w">            </span><span class="cm">/*&lt; Remaining packets */</span>
<span class="w">			</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">cfpid</span><span class="p">;</span><span class="w">             </span><span class="cm">/*&lt; Connection CFP identification number */</span>
<span class="w">			</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">last_used</span><span class="p">;</span><span class="w">         </span><span class="cm">/*&lt; Timestamp in ms for last use of buffer */</span>
<span class="w">			</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">frame_begin</span><span class="p">;</span>
<span class="w">			</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_length</span><span class="p">;</span>
<span class="w">		</span><span class="p">};</span>

<span class="w">	</span><span class="p">};</span>

<div class="viewcode-block" id="c.csp_packet_s.length"><div class="viewcode-block" id="c.csp_packet_t.length"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_t.length">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_s.length">[docs]</a><span class="w">	</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w">			</span><span class="cm">/*&lt; Data length */</span></div></div>
<div class="viewcode-block" id="c.csp_packet_s.id"><div class="viewcode-block" id="c.csp_packet_t.id"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_t.id">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_s.id">[docs]</a><span class="w">	</span><span class="n">csp_id_t</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">				</span><span class="cm">/*&lt; CSP id (unpacked version CPU readable) */</span></div></div>

<div class="viewcode-block" id="c.csp_packet_s.next"><div class="viewcode-block" id="c.csp_packet_t.next"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_t.next">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_s.next">[docs]</a><span class="w">	</span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_packet_s</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">next</span><span class="p">;</span><span class="w"> </span><span class="cm">/*&lt; Used for lists / queues of packets */</span></div></div>


<div class="viewcode-block" id="c.csp_packet_s.header"><div class="viewcode-block" id="c.csp_packet_t.header"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_t.header">[docs]</a><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_packet_s.header">[docs]</a><span class="w">	</span><span class="cm">/**</span>
<span class="cm">	 * Additional header bytes, to prepend packed data before transmission</span>
<span class="cm">	 * This must be minimum 6 bytes to accomodate CSP 2.0. But some implementations</span>
<span class="cm">	 * require much more scratch working area for encryption for example.</span>
<span class="cm">	 *</span>
<span class="cm">	 * Ultimately after csp_id_pack() this area will be filled with the CSP header</span>
<span class="cm">	 */</span>

<span class="w">	</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">header</span><span class="p">[</span><span class="n">CSP_PACKET_PADDING_BYTES</span><span class="p">];</span></div></div>

<span class="w">	</span><span class="cm">/**</span>
<span class="cm">	 * Data part of packet:</span>
<span class="cm">	 */</span>
<span class="w">	</span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="w">		</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">CSP_BUFFER_SIZE</span><span class="p">];</span>
<span class="w">		</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">data16</span><span class="p">[</span><span class="n">CSP_BUFFER_SIZE</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<span class="w">		</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">data32</span><span class="p">[</span><span class="n">CSP_BUFFER_SIZE</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="p">];</span>
<span class="w">	</span><span class="p">};</span>

<span class="p">}</span><span class="w"> </span><span class="n">csp_packet_t</span><span class="p">;</span></div></div>

<div class="viewcode-block" id="c.CSP_RDP_HEADER_SIZE"><span class="cp">#define CSP_RDP_HEADER_SIZE 5</span></div>

<div class="viewcode-block" id="c.csp_iface_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_iface_t">[docs]</a><span class="cm">/** Forward declaration of CSP interface, see #csp_iface_s for details. */</span>
<div class="viewcode-block" id="c.csp_iface_s"><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_iface_s</span><span class="w"> </span><span class="n">csp_iface_t</span><span class="p">;</span></div></div>

<div class="viewcode-block" id="c.csp_callback_t"><span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">csp_callback_t</span><span class="p">)(</span><span class="n">csp_packet_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">packet</span><span class="p">);</span></div>

<div class="viewcode-block" id="c.csp_socket_s"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_s">[docs]</a><span class="cm">/** @brief Connection struct */</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">csp_socket_s</span><span class="w"> </span><span class="p">{</span>
<div class="viewcode-block" id="c.csp_socket_s.rx_queue"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_s.rx_queue">[docs]</a><span class="w">	</span><span class="n">csp_queue_handle_t</span><span class="w"> </span><span class="n">rx_queue</span><span class="p">;</span><span class="w">        </span><span class="cm">/*&lt; Queue for RX packets */</span></div>
<div class="viewcode-block" id="c.csp_socket_s.rx_queue_static"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_s.rx_queue_static">[docs]</a><span class="w">	</span><span class="n">csp_static_queue_t</span><span class="w"> </span><span class="n">rx_queue_static</span><span class="p">;</span><span class="w"> </span><span class="cm">/*&lt; Static storage for rx queue */</span></div>
<div class="viewcode-block" id="c.csp_socket_s.rx_queue_static_data"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_s.rx_queue_static_data">[docs]</a><span class="w">	</span><span class="kt">char</span><span class="w"> </span><span class="n">rx_queue_static_data</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="n">csp_packet_t</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">CSP_CONN_RXQUEUE_LEN</span><span class="p">];</span></div>

<div class="viewcode-block" id="c.csp_socket_s.opts"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_s.opts">[docs]</a><span class="w">	</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">opts</span><span class="p">;</span><span class="w">              </span><span class="cm">/*&lt; Connection or socket options */</span></div>
<span class="p">};</span></div>

<div class="viewcode-block" id="c.csp_socket_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_socket_t">[docs]</a><span class="cm">/** Forward declaration of socket structure */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_socket_s</span><span class="w"> </span><span class="n">csp_socket_t</span><span class="p">;</span></div>
<div class="viewcode-block" id="c.csp_conn_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_conn_t">[docs]</a><span class="cm">/** Forward declaration of connection structure */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">csp_conn_s</span><span class="w"> </span><span class="n">csp_conn_t</span><span class="p">;</span></div>

<div class="viewcode-block" id="c.CSP_HOSTNAME_LEN"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_HOSTNAME_LEN">[docs]</a><span class="cm">/** Max length of host name - including zero termination */</span>
<span class="cp">#define CSP_HOSTNAME_LEN	20</span></div>
<div class="viewcode-block" id="c.CSP_MODEL_LEN"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_MODEL_LEN">[docs]</a><span class="cm">/** Max length of model name - including zero termination */</span>
<span class="cp">#define CSP_MODEL_LEN		30</span></div>

<div class="viewcode-block" id="c.CSP_REBOOT_MAGIC"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_REBOOT_MAGIC">[docs]</a><span class="cm">/** Magic number for reboot request, for service-code #CSP_REBOOT */</span>
<span class="cp">#define CSP_REBOOT_MAGIC		0x80078007</span></div>
<div class="viewcode-block" id="c.CSP_REBOOT_SHUTDOWN_MAGIC"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_REBOOT_SHUTDOWN_MAGIC">[docs]</a><span class="cm">/** Magic number for shutdown request, for service-code #CSP_REBOOT */</span>
<span class="cp">#define CSP_REBOOT_SHUTDOWN_MAGIC	0xD1E5529A</span></div>

<span class="cp">#ifdef __AVR__</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">csp_memptr_t</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">csp_const_memptr_t</span><span class="p">;</span>
<span class="cp">#else</span>
<div class="viewcode-block" id="c.csp_memptr_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_memptr_t">[docs]</a><span class="cm">/** Memory pointer */</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">csp_memptr_t</span><span class="p">;</span></div>
<div class="viewcode-block" id="c.csp_const_memptr_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_const_memptr_t">[docs]</a><span class="cm">/** Const memory pointer */</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">csp_const_memptr_t</span><span class="p">;</span></div>
<span class="cp">#endif</span>

<div class="viewcode-block" id="c.csp_memcpy_fnc_t"><a class="viewcode-back" href="../api/csp_types_h.html#c.csp_memcpy_fnc_t">[docs]</a><span class="cm">/**</span>
<span class="cm"> * Platform specific memory copy function.</span>
<span class="cm"> */</span>
<span class="k">typedef</span><span class="w"> </span><span class="n">csp_memptr_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">csp_memcpy_fnc_t</span><span class="p">)(</span><span class="n">csp_memptr_t</span><span class="p">,</span><span class="w"> </span><span class="n">csp_const_memptr_t</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="p">);</span></div>

<div class="viewcode-block" id="c.CSP_STATIC_ASSERT"><a class="viewcode-back" href="../api/csp_types_h.html#c.CSP_STATIC_ASSERT">[docs]</a><span class="cm">/**</span>
<span class="cm"> * Compile check/asserts.</span>
<span class="cm"> */</span>
<span class="cp">#define CSP_STATIC_ASSERT(condition, name)   typedef char name[(condition) ? 1 : -1]</span></div>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>